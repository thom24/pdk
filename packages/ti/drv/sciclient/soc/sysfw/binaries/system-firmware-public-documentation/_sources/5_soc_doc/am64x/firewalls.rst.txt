===========================
AM64X Firewall Descriptions
===========================

.. _soc_doc_am64_public_fwl_desc_intro:

Introduction
============

This chapter provides information on firewalls that system firmware configures
by default at boot time. Guide to read the tables in this chapter is provided
below. For more details on firewalls refer to "Interconnect Firewalls" section
of TRM and :ref:`Firewall TISCI Description <sec_ap_fwl_tisci_desc>`.

- Firewall ID: The firewall ID uniquely identifies each firewall
- Owner: :ref:`Host ID <soc_doc_am64x_public_host_desc_host_list>` that is owner of the firewall
- CBA_PERMISSION_x: Each firewall region/channel can have up to 3 slots for configuring permissions. Each permission slot takes the form of [user, permission], where user is a host and permission is a combination of r-read, w-write, c-cache, d-debug. The priv-id, secure/non-secure, user/privileged information are derived from the host id.

.. note::

    In the below table, a firewall owned by RM implies that the corresponding resource is managed by the resource manager.
    Firewall configuration is internally handled by RM based on RM boardcfg.

    For additional firewall information, checkout the :doc:`../../6_topic_user_guides/firewall_faq`.

.. _soc_doc_am64_public_fwl_desc_region_fwl_list:

List of Region Based Firewalls
==============================

+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|   Firewall ID |   Region | Owner   | Start Address   | End Address   | CBA_PERMISSION_0           | CBA_PERMISSION_1   | CBA_PERMISSION_2   |
+===============+==========+=========+=================+===============+============================+====================+====================+
|            20 |        0 | dmsc    | 0x4D000000      | 0x4D001FFF    | main_0_r5_0_secure,rwcd    |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            20 |        1 | dmsc    | 0x4D004000      | 0x4D005FFF    | main_0_r5_1_secure,rwcd    |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            20 |        2 | dmsc    | 0x4D008000      | 0x4D00BFFF    | a53_secure_supervisor,rwcd |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            20 |        3 | dmsc    | 0x4D012000      | 0x4D013FFF    | main_1_r5_0_secure,rwcd    |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            20 |        4 | dmsc    | 0x4D016000      | 0x4D017FFF    | main_1_r5_1_secure,rwcd    |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            20 |        5 | dmsc    | 0x4D03A000      | 0x4D04BFFF    | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            20 |        7 | none    | 0x4D000000      | 0x4E3FFFFF    | everyone,rwcd              |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            20 |        6 | dmsc    | 0x4E004000      | 0x4E013FFF    | sproxy_private,rwcd        |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            21 |        0 | none    | 0x00000000      | 0xFFFFFFFFFFF | everyone,rwcd              | everyone,rwcd      | everyone,rwcd      |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            21 |        7 | dmsc    | 0x04210000      | 0x042101FF    | dmsc,rwcd                  | everyone,r         |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        0 | dmsc    | 0x49800000      | 0x4A67FFFF    | everyone,r                 | dmsc,rwcd          |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        1 | dmsc    | 0x48100000      | 0x4811001F    | dmsc,rwcd                  | everyone,r         |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        2 | dmsc    | 0x48130000      | 0x482500FF    | dmsc,rwcd                  | everyone,r         |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        3 | dmsc    | 0x48400000      | 0x48411FFF    | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        4 | dmsc    | 0x48420000      | 0x48607FFF    | dmsc,rwcd                  | everyone,r         |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        5 | none    | 0x01000000      | 0x4C01FFFF    | everyone,rwcd              | everyone,rwcd      | everyone,rwcd      |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        6 | dmsc    | 0x4A811000      | 0x4A812FFF    | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        7 | dmsc    | 0x4AA18000      | 0x4AA18FFF    | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        8 | dmsc    | 0x4B920000      | 0x4B92FFFF    | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |        9 | dmsc    | 0x4B8A0000      | 0x4B8AFFFF    | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            22 |       10 | dmsc    | 0x49000000      | 0x49013FFF    | dmsc,rwcd                  | everyone,r         |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            24 |        0 | dmsc    | 0x44060000      | 0x4407BFFF    | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            24 |        1 | dmsc    | 0x44060000      | 0x4407BFFF    | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            24 |        7 | dmsc    | 0x701FC000      | 0x701FFFFF    | sproxy_private,rwcd        |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            24 |        6 | dmsc    | 0x4407C000      | 0x4407FFFF    | sproxy_private,rwcd        |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            24 |        5 | none    | 0x701C0000      | 0x701DFFFF    | everyone,rwcd              | everyone,rwcd      | everyone,rwcd      |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            34 |        0 | none    | 0x00000000      | 0xFFFFFFFFFFF | everyone,rwcd              |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            34 |        6 | dmsc    | 0x00A00000      | 0x00A007FF    | dmsc,rwcd                  | everyone,r         |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|            34 |        7 | dmsc    | 0x00300000      | 0x003000FF    | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           512 |        0 | dmsc    |                 |               | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           513 |        0 | dmsc    |                 |               | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           514 |        0 | dmsc    |                 |               | dmsc,rwcd                  |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           528 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           536 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           537 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           544 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           545 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           552 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           562 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           576 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           578 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           582 |        0 | dmsc    | 0x44234000      | 0x44234FFF    | everyone,r                 | everyone,r         | everyone,r         |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           582 |        1 | dmsc    | 0x44235000      | 0x44237FFF    | dmsc,rwcd                  | dmsc,rwcd          | dmsc,rwcd          |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           592 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           593 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           602 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           607 |        0 | dmsc    | 0x00000000      | 0xFFFFFFFFFFF | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           639 |        1 | dmsc    | 0x45080000      | 0x45CFFFFF    | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           639 |        0 | dmsc    | 0x45000000      | 0x4507FFFF    | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           639 |        2 | dmsc    | 0x45D00000      | 0x45DFFFFF    | everyone,rwcd              |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+
|           639 |        3 | dmsc    | 0x45E00000      | 0x45FFFFFF    | dmsc,rwd                   |                    |                    |
+---------------+----------+---------+-----------------+---------------+----------------------------+--------------------+--------------------+

.. _soc_doc_am64_public_fwl_desc_channel_fwl_list:

List of Channelized Firewalls
=============================

+---------------+---------+-----------------+---------------+--------------------+--------------------+--------------------+
| Firewall ID   | Owner   | Start Channel   | End Channel   | CBA_PERMISSION_0   | CBA_PERMISSION_1   | CBA_PERMISSION_2   |
+===============+=========+=================+===============+====================+====================+====================+
+---------------+---------+-----------------+---------------+--------------------+--------------------+--------------------+

.. _soc_doc_am64_public_fwl_desc_priv_id_list:

List of priv-ids
================

+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| Master name               |   priv-id | secure   | non-secure   | privileged   | user   | HOST-IDs   |
+===========================+===========+==========+==============+==============+========+============+
| a53_non_secure_supervisor |         1 | False    | True         | True         | False  | 12,13,14   |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| a53_secure_supervisor     |         1 | True     | False        | True         | False  | 10,11      |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| sproxy_private            |        11 | True     | True         | True         | True   | N/A        |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| m4_0                      |       100 | False    | True         | True         | True   | 30         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_0_icssg_0            |       136 | False    | True         | True         | True   | 50         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_0_icssg_1            |       137 | False    | True         | True         | True   | 51         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| everyone                  |       195 | True     | True         | True         | True   | N/A        |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| block_everyone            |       197 | True     | True         | True         | True   | N/A        |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| dmsc                      |       202 | True     | True         | True         | True   | N/A        |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_0_r5_0_nonsecure     |       212 | False    | True         | True         | True   | 36         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_0_r5_0_secure        |       212 | True     | False        | True         | True   | 35         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_0_r5_1_nonsecure     |       213 | False    | True         | True         | True   | 38         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_0_r5_1_secure        |       213 | True     | False        | True         | True   | 37         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_1_r5_0_nonsecure     |       214 | False    | True         | True         | True   | 41         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_1_r5_0_secure        |       214 | True     | False        | True         | True   | 40         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_1_r5_1_nonsecure     |       215 | False    | True         | True         | True   | 43         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+
| main_1_r5_1_secure        |       215 | True     | False        | True         | True   | 42         |
+---------------------------+-----------+----------+--------------+--------------+--------+------------+

